# Система для учета и поиска книг в библиотеке Modern Library
## Общие сведения
    Специальное программное обеспечение учета и поиска книг в библиотеке разработано под наименованием «Система для учета и поиска книг в библиотеке». В программной реализации именуется «Modern Library». 
    Для функционирования системы для учета и поиска книг в библиотеке требуется ОС Windows, или macos, или Linux.

## Инструкция по применению

1)    Установка и запуск системы на новом устройстве.
Скачайте скомпилированное программное обеспечение для Вашей операционной системы:
Windows - файл с расширением .exe.
Macos - файл без расширения (расширение exec).
Linux - с помощью эмулятора Darling запустите скомпилированное для macos приложение.
Запустите скачанный файл. В результате запустится программа и будет открыто окно консольного приложения. Завершите работу приложения, введя «выйти» (потребуется один раз повторить команду). Откройте терминал Вашего компьютера. В командную строку Вашего терминала введите местоположение скачанного (скомпилированного Вами) файла, нажмите «Enter». Запустится консольное приложение.
2)    Чтение созданной системы из файла, заполнение системы содержимым.
Запустите работу приложения в соответствии с пунктом 1. Создайте новую систему (введя строку «новая»). Введите название новой системы. Далее будет запущен основной терминал приложения. Используя команды основного терминала, создайте подразделы текущего раздела (основного раздела). Создайте книги в текущем разделе. Откройте созданные подразделы. Создайте в подразделах локальные подразделы и новые книги. Сохраните систему (введя абсолютное местоположение + название файла (без расширения)). Выйдите из системы (в соответствии с пунктом 1). Запустите систему. Все введенные ранее сведения будут отображаться по запросу.
3)    Запуск файла, созданного (измененного) на другом устройстве
Скачайте с сайта https://github.com/akkauntclever/Modern-Library или с собственного ресурса файл с расширением «.mdlb» без точки в начале названия файла. Запустите приложение, в качестве запускаемой системы выберите скачанный файл (потребуется ввести его местоположение). Содержимое системы будет отображено по запросу.


## Функциональные характеристики
### Методы основного терминала
    Посмотреть сведения о системе: предоставление пользователю информации о системе: название системы, дата создания системы, время последнего сохранения системы, местоположения файла для сохранения системы по умолчанию;
    Создать книгу: создание пустой книги в текущем разделе системы (текущий раздел отображается перед символом «$» при работе пользователя в основном терминале);
    Редактировать книгу: запуск малого терминала редактирования выбранной книги (функциональность этого терминала см. ниже). Потребуется ввести название существующей книги, возможна отмена операции;
    Печать книги: вывод в консоль имеющихся сведений об интересующей книге из текущего раздела. Будут выведены: наименование книги; пары ключ – значение, содержащиеся в книге; местоположение раздела книги по введенной пользователем иерархии; время создания книги. Потребуется ввести название существующей книги, возможна отмена операции;
    Переименовать книгу: изменения названия книги из текущего раздела. Потребуется ввести название существующей книги, возможна отмена операции;
    Удалить книгу: удаление книги из текущего раздела. Потребуется ввести название существующей книги, возможна отмена операции;
    Создать подраздел: создание нового подраздела данного раздела. Потребуется ввести название несуществующего подраздела, возможна отмена операции;
    Переименовать раздел: изменение названия текущего раздела. Потребуется ввести название раздела, такое, что соседние с ним разделы имеют другое название, возможна отмена операции;
    Показать подразделы: вывод в консоль всех подразделов данного раздела;
    Удалить подраздел: удаление подраздела текущего раздела по названию. Потребуется ввести название существующего подраздела, возможна отмена операции;
    Показать книги: вывод в консоль названий всех книг данного раздела;
    Установить глобальное поле: добавить некоторый ключ во все книги системы. Потребуется ввести название несуществующего глобального ключа, допустимо введение ключа, уже содержащегося в некоторых книгах (но не являющегося на момент установки – глобальным), возможна отмена операции;
    Показать глобальные поля: показать все существующие ключи, установленные глобальными (то есть обязательно присутствующие во всех книгах);
    Снять глобальное поле: исключить поле (ключ) из списка полей (ключей), обязательно присутствующих в каждой книге. Потребуется ввести название существующего глобального ключа, возможна отмена операции;
    Поиск книги: запуск терминала поиска книг (его методы описаны ниже);
    Сохранить, сохранение, save – сохранение системы по текущему местоположению. В случае, если текущее местоположение не задано (система – новая), то будет предложено ввести местоположение для сохранения, а также название файла системы, возможна отмена операции;
    Сохранить как: сохранить систему по новому местоположению, заданному пользователем (или с новым наименованием файла). Будет предложено ввести местоположение для сохранения, а также название файла системы, возможна отмена операции;
    Выход, выйти, exit, leave – завершение работы с системой для учета и поиска книг в библиотеке, будет предложено подтвердить выход (или отменить операцию), в случае подтверждения выхода – приложение очищает выделенную под него оперативную память и завершает работу.

### Методы книжного терминала
    Создать поле: создать новое локальное поле (ключ) книги. Потребуется ввести название несуществующего неглобального локального поля (ключа), возможна отмена операции;
    Редактировать поле: изменить содержимое локального поля (ключа) книги (в случае пустого глобального – инициализировать). Потребуется ввести название существующего локального поля (ключа), возможно, глобального. Возможна отмена операции;
    Удалить поле: удаление локального поля книги. Потребуется ввести название существующего локального поля (ключа). В случае введения глобального ключа – происходит его очистка. Возможна отмена операции;
    Печать книги: вывод в консоль имеющихся сведений о книге, которая открыта в терминале. Будут выведены: наименование книги; пары ключ – значение, содержащиеся в книге; местоположение раздела книги по введенной пользователем иерархии; время создания книги.
    Установить глобальное поле: добавить некоторый ключ во все книги системы. Потребуется ввести название несуществующего глобального ключа, допустимо введение ключа, уже содержащегося в некоторых книгах (но не являющегося на момент установки – глобальным), возможна отмена операции;
    Показать глобальные поля: показать все существующие ключи, установленные глобальными (то есть обязательно присутствующие во всех книгах);
    Снять глобальное поле: исключить поле (ключ) из списка полей (ключей), обязательно присутствующих в каждой книге. Потребуется ввести название существующего глобального ключа, возможна отмена операции;
    Завершить: завершение работы книжного терминала, возврат работы в основной терминал (будет открыт раздел книги закрываемого книжного терминала).

### Методы поискового терминала
    Текущие параметры – вывод на консоль заданных пользователем параметров поиска книги: параметр поиска книги по названию; параметры поиска книги по названию полей (ключей); параметры поиска книги по содержимому полей (то есть по значению, соответствующему некоторому ключу); параметр поиска книги по названию раздела, в котором может содержаться книга;
    Название книги – задать название книги (по умолчанию – частичное), в соответствии с которым будет осуществляться поиск книги в системе для учета и поиска книг в библиотеке. Потребуется ввести строку – название, возможна отмена операции;
    Часть названия книги – установлен параметр отбора книг, при условии, что их название содержит хотя бы частично заданное название поиска;  
    Полное название книги – установлен параметр отбора книг, при условии, что их название полностью соответствует заданному названию поиска;  
    Параметры названия книги – выводится на консоль: текущее название для поиска книги, параметр поиска книги (частичное или полное). В случае, если параметры не установлены, выводится соответствующее сообщение;
    Сбросить название книги – сбросить параметр для поиска книги по названию к состоянию по умолчанию (название – пустое, поиск по частичному содержанию);
    Ассоциация – задать название поля (ключа) (по умолчанию – частичное), в соответствии с которым будет осуществляться поиск книги в системе для учета и поиска книг в библиотеке. Потребуется ввести строку – название, возможна отмена операции; Возможно создание нескольких неповторяющихся ассоциаций для одновременного поиска в одной книге;
    Часть ассоциации – установлен параметр отбора книг, при условии, что они содержат хотя бы частично заданные названия полей (ключей); Возможно задать только для всех полей (ключей) одновременно;  
    Полная ассоциация – установлен параметр отбора книг, при условии, что они содержат все поля (ключи), название которых полностью соответствует заданным. Возможно задать только для всех полей (ключей) одновременно;  
    Параметры ассоциаций – выводится на консоль: в кавычках названия полей (ключей), заданных для поиска, параметр поиска полей (ключей) (частичное или полное). В случае, если параметры не установлены, выводится соответствующее сообщение;
    Сбросить поиск ассоциации – удалить из параметров поиска книг конкретное поле (ключ), потребуется ввести название существующего поля, возможна отмена операции;
    Сбросить поиск всех ассоциаций – сбросить параметр для поиска книги по наименованию полей (ключей) к состоянию по умолчанию (полей для поиска нет, при добавлении новых – поиск по частичному содержанию);
    Содержимое ассоциации – задать содержимое поля (ключа) (по умолчанию – частичное), в соответствии с которым будет осуществляться поиск книги в системе для учета и поиска книг в библиотеке. Потребуется ввести строку – название, возможна отмена операции; Возможно создание нескольких неповторяющихся содержимых ассоциаций для одновременного поиска в одной книге;
    Часть содержимого ассоциации – установлен параметр отбора книг, при условии, что они содержат хотя бы частично заданные содержимые полей (ключей); Возможно задать только для всех содержимых полей (ключей) одновременно;
    Полное содержимое ассоциации – установлен параметр отбора книг, при условии, что они содержат содержимые всех полей (ключей), которые полностью соответствуют заданным. Возможно задать только для всех содержимых полей (ключей) одновременно;  
    Параметры содержимого ассоциаций – выводится на консоль: в кавычках содержимое полей (ключей), заданных для поиска, параметр поиска содержимого полей (ключей) (частичное или полное). В случае, если параметры не установлены, выводится соответствующее сообщение;
    Сбросить поиск содержимого ассоциации – удалить из параметров поиска книг конкретное поле (ключ), потребуется ввести название существующего поля, возможна отмена операции;
    Сбросить поиск всех ассоциаций – сбросить параметр для поиска книги по наименованию полей (ключей) к состоянию по умолчанию (полей для поиска нет, при добавлении новых – поиск по частичному содержанию);
    Раздел – задать название раздела (по умолчанию – частичное), в котором будет осуществляться поиск книги в системе для учета и поиска книг в библиотеке. Потребуется ввести строку – название, возможна отмена операции;
    Часть названия раздела – установлен параметр отбора книг, при условии, что они находятся в разделах, название которых содержит хотя бы частично заданное в параметрах;  
    Полное название раздела – установлен параметр отбора книг, при условии, что они находятся в разделах, название которых полностью соответствует заданному названию поиска;  
    Текущий раздел – выводится на консоль: текущее название раздела для поиска книги, параметр названия раздела поиска книги (частичное или полное). В случае, если параметры не установлены, выводится соответствующее сообщение;
    Сбросить поиск раздела – сбросить параметр для поиска книги с местоположением в заданном по назвнию разделе к состоянию по умолчанию (название раздела – пустое, поиск по частичному содержанию);
    Сбросить все параметры – все параметры поиска книг приводятся к состоянию по умолчанию (как при запуске системы: пустые параметры поиска, поиск по частичному названию)
    Найти – вывод в консоль всех книг системы, соответствующих заданным параметрам поиска (выводятся сведения, соответствующие выводимым в функции печать книги основного и книжного терминалов);
    Завершить – завершение работы поискового терминала (параметры поиска сохраняются до выхода из системы) и выход в основной терминал в подраздел, из которого поиск был запущен.

    Поисковый терминал ищет книги не зависимо от раздела, из которого он был запущен.

    Глобальные поля (ключи) – это поля, которые обязательно установлены во всех книгах системы, заполнение их значением в каждой книге не является обязательным. Удаление глобального поля не приведет к удалению этого поля в тех книгах, где оно инициализировано значением. В отличие от глобальных полей, обычные поля не могут быть пустыми (без значения). Для освобождения глобального поля в отдельно взятой книге необходимо удалить данное поле (при удалении оно будет очищено, как пустой ключ – останется).
    Допускается создание серии подразделов текущего раздела (подраздел, подраздел подраздела, подраздел подраздела подраздела, …), для этого наименования подразделов следует вводить через слеш (знак деления). При этом запрещено создание подраздела с пустым наименованием, с наименованием, содержащим слеш (знак деления).
    В системе сохраняются только те местоположения, что были заданы по полному (абсолютному) пути. Если местоположения для сохранения файлов были заданы в абсолютном пути - они не будут сохранены. Для того, чтобы в системе отображались ранее открываемые файлы, вводите их полное (абсолютное) местоположение.
